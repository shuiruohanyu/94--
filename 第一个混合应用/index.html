<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
    <title></title>
    <script src="js/mui.min.js"></script>
    <link href="css/mui.min.css" rel="stylesheet"/>
    <script type="text/javascript" charset="utf-8">
      	mui.init();
    </script>
</head>
<body>
	<!-- 主界面菜单同时移动 -->
		<!-- 侧滑导航根容器 -->
		<div class="mui-off-canvas-wrap mui-draggable">
			<!-- 主页面容器 -->
			<div class="mui-inner-wrap">
				<!-- 菜单容器 -->
				<aside class="mui-off-canvas-left" id="offCanvasSide">
					<div class="mui-scroll-wrapper">
						<div class="mui-scroll">
							<!-- 菜单具体展示内容 -->
							
						</div>
					</div>
				</aside>
				<!-- 主页面标题 -->
				<header class="mui-bar mui-bar-nav">
					<a class="mui-icon mui-action-menu mui-icon-bars mui-pull-left" href="#offCanvasSide"></a>
					<h1 class="mui-title">标题</h1>
				</header>
				<nav class="mui-bar mui-bar-tab">
					<a class="mui-tab-item mui-active">
						<span class="mui-icon mui-icon-home"></span>
						<span class="mui-tab-label">首页</span>
					</a>
					<a class="mui-tab-item">
						<span class="mui-icon mui-icon-phone"></span>
						<span class="mui-tab-label">电话</span>
					</a>
					<a class="mui-tab-item">
						<span class="mui-icon mui-icon-email"></span>
						<span class="mui-tab-label">邮件</span>
					</a>
					<a class="mui-tab-item">
						<span class="mui-icon mui-icon-gear"></span>
						<span class="mui-tab-label">设置</span>
					</a>
				</nav>
				<!-- 主页面内容容器 -->
				<div class="mui-content mui-scroll-wrapper">
					<div class="mui-scroll">
						<!-- 主界面具体展示内容 -->
						<ul class="mui-table-view mui-grid-view mui-grid-9">
						<li  id="photo" class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3">
							<a href="#">
								<span class="mui-icon mui-icon-camera"></span>
								<div class="mui-media-body">拍照</div>
							</a>
						</li>

	
						<li id="map" class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3">
							<a href="#">
								<span class="mui-icon mui-icon-location"></span>
								<div class="mui-media-body">地图</div>
							</a>
						</li>
	
						<li id="phone" class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3">
							<a href="#">
								<span class="mui-icon mui-icon-phone"></span>
								<div class="mui-media-body">打电话</div>
							</a>
						</li>
						<li id="voice" class="mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3">
							<a href="#">
								<span class="mui-icon mui-icon-weixin"></span>
								<div class="mui-media-body">发声</div>
							</a>
						</li>
							</ul>
							<!-- 放置拍好的照片 -->
							<img id="myImg" src="" alt="" style="display: block;margin: 20px;width: 300px;height: 180px;">
	
					</div>
				</div>
		   	 <div class="mui-off-canvas-backdrop"></div>
			</div>
		</div>
		<script type="text/javascript">
			// 5+RunTime是一个强化版手机浏览器引擎
			 document.addEventListener("plusready", function(){
				 // 扩展API强化完成  此函数 必须在模拟器或者手机环境中使用
				 console.log("初始化原生能力完成!")
			 })
			 // mui框架 点击事件 不是click  tap
			 var  photoDom = document.getElementById("photo") // 获取点击图片元素
			 photoDom.addEventListener('tap', function () {
				 // 拍照
				var camera = plus.camera.getCamera(1) // 获取主摄像头对象
				camera.captureImage(function(url){
					// 拍照成功  得到一个url路径
					// 得到的url路径是一个相对路径 需要转化 需要把相对路径转化绝对路径
				    var  aurl =	plus.io.convertLocalFileSystemURL(url)  // 相对路径 => 绝对路径
					document.getElementById("myImg").src = aurl 
				}) // 调用拍照方法
			 })
			var  voiceDom = document.getElementById("voice")
			var  phoneDom = document.getElementById("phone")
			var  mapDom = document.getElementById("map")
			
			voiceDom.addEventListener("tap", function(){
				plus.device.beep(10)  // 发出声音
			})
			phoneDom.addEventListener("tap", function(){
				plus.device.dial(10086)
			})
			mapDom.addEventListener("tap", function(){
				// 当点击地图时跳转
				window.location.href = 'map.html'
			})
		</script>
</body>
</html>